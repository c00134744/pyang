This directory contains XSLT stylesheets that take the conceptual tree
schema (output of the 'rng' plugin) and generate various validation
schemas from it. Only RELAX NG output is available now.

A dispatcher shell script 'yang2schema' is provided, which helps to
automate the tasks. It uses XSLT processor 'xsltproc' from 'libxml2'
toolset. Modified versions tested with other processors will be
appreciated.

Typical invocation:

$ ./yang2schema -t rpc -n rock:rock-the-house -i rpc-rock.yang

This command writes a RELAX NG schema to the standard output, and this
schema can be used for validating complete NETCONF PDUs containing RPC
request (=input) for the method 'rock-the-house' that must be defined
in rpc-rock.yang. Note that the method name has to include the
namespace prefix declared in the YANG module (the same holds for
notification names).

A complete list of options may be obtained by running

$ ./yang2schema -h

Thee validation targets are currently supported:

"get-reply"  Reply to <get> method without any filters.

"rpc"        RPC method whose name must be specified using the
             -n option. Depending on the switch -i (default) or -o
	     a schema for either request or reply is generated.

"notif"      Notification whose name must be specified using the
             -n option.

The script assumes that the XSLT stylesheets are placed in the current
directory. Another directory can be specified using the XSLT_DIR
environment variable.

The generated RELAX NG schema pull definitions of named patterns for
common NETCONF elements and attributes from the library schema
'relaxng-lib-rng' that is also by default expected to be found in the
current directory. Another directory can be specified using the
RNG_LIBDIR environment variable.

-- Lada Lhotka, 28.2.2009
